!function(r,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.sm3=t():r.sm3=t()}("undefined"!=typeof self?self:this,function(){return function(r){function t(e){if(n[e])return n[e].exports;var o=n[e]={i:e,l:!1,exports:{}};return r[e].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=r,t.c=n,t.d=function(r,n,e){t.o(r,n)||Object.defineProperty(r,n,{configurable:!1,enumerable:!0,get:e})},t.n=function(r){var n=r&&r.__esModule?function(){return r.default}:function(){return r};return t.d(n,"a",n),n},t.o=function(r,t){return Object.prototype.hasOwnProperty.call(r,t)},t.p="",t(t.s=6)}([,function(r,t,n){"use strict";function e(r){if(Array.isArray(r)){for(var t=0,n=Array(r.length);t<r.length;t++)n[t]=r[t];return n}return Array.from(r)}function o(r,t){var n=31&t;return r<<n|r>>>32-n}function i(r,t){for(var n=[],e=r.length-1;e>=0;e--)n[e]=255&(r[e]^t[e]);return n}function a(r){return r^o(r,9)^o(r,17)}function f(r){return r^o(r,15)^o(r,23)}function u(r){var t=8*r.length,n=t%512;n=n>=448?512-n%448-1:448-n-1;for(var i=new Array((n-7)/8),u=new Array(8),c=0,s=i.length;c<s;c++)i[c]=0;for(var l=0,p=u.length;l<p;l++)u[l]=0;t=t.toString(2);for(var y=7;y>=0;y--)if(t.length>8){var d=t.length-8;u[y]=parseInt(t.substr(d),2),t=t.substr(0,d)}else t.length>0&&(u[y]=parseInt(t,2),t="");for(var g=new Uint8Array([].concat(e(r),[128],i,u)),A=new DataView(g.buffer,0),m=g.length/64,w=new Uint32Array([1937774191,1226093241,388252375,3666478592,2842636476,372324522,3817729613,2969243214]),b=0;b<m;b++){h.fill(0),v.fill(0);for(var x=16*b,k=0;k<16;k++)h[k]=A.getUint32(4*(x+k),!1);for(var j=16;j<68;j++)h[j]=f(h[j-16]^h[j-9]^o(h[j-3],15))^o(h[j-13],7)^h[j-6];for(var U=0;U<64;U++)v[U]=h[U]^h[U+4];for(var E=w[0],I=w[1],O=w[2],P=w[3],M=w[4],S=w[5],_=w[6],D=w[7],L=void 0,V=void 0,q=void 0,z=void 0,B=void 0,C=0;C<64;C++)B=C>=0&&C<=15?2043430169:2055708042,L=o(o(E,12)+M+o(B,C),7),V=L^o(E,12),q=(C>=0&&C<=15?E^I^O:E&I|E&O|I&O)+P+V+v[C],z=(C>=0&&C<=15?M^S^_:M&S|~M&_)+D+L+h[C],P=O,O=o(I,9),I=E,E=q,D=_,_=o(S,19),S=M,M=a(z);w[0]^=E,w[1]^=I,w[2]^=O,w[3]^=P,w[4]^=M,w[5]^=S,w[6]^=_,w[7]^=D}for(var F=[],G=0,H=w.length;G<H;G++){var J=w[G];F.push((4278190080&J)>>>24,(16711680&J)>>>16,(65280&J)>>>8,255&J)}return F}function c(r,t){for(t.length>y&&(t=u(t));t.length<y;)t.push(0);var n=i(t,d),o=i(t,g),a=u([].concat(e(n),e(r)));return u([].concat(e(o),e(a)))}function s(r,t){return c(r,t)}function l(r,t,n){for(var e=[],o=[],i=Math.ceil(n/32),a=0;a<i;a++)e=c(r,e.concat(t).concat(a+1)),o=o.concat(e);return o.slice(0,n)}function p(r,t,n,e){return l(s(r,t),n,e)}for(var h=new Uint32Array(68),v=new Uint32Array(64),y=64,d=new Uint8Array(y),g=new Uint8Array(y),A=0;A<y;A++)d[A]=54,g[A]=92;r.exports={sm3:u,hmac:c,hkdf:p}},,,,,function(r,t,n){"use strict";function e(r,t){return r.length>=t?r:new Array(t-r.length+1).join("0")+r}function o(r){return r.map(function(r){return r=r.toString(16),1===r.length?"0"+r:r}).join("")}function i(r){var t=[],n=r.length;n%2!=0&&(r=e(r,n+1)),n=r.length;for(var o=0;o<n;o+=2)t.push(parseInt(r.substr(o,2),16));return t}function a(r){for(var t=[],n=0,e=r.length;n<e;n++){var o=r.codePointAt(n);if(o<=127)t.push(o);else if(o<=2047)t.push(192|o>>>6),t.push(128|63&o);else if(o<=55295||o>=57344&&o<=65535)t.push(224|o>>>12),t.push(128|o>>>6&63),t.push(128|63&o);else{if(!(o>=65536&&o<=1114111))throw t.push(o),new Error("input is not supported");n++,t.push(240|o>>>18&28),t.push(128|o>>>12&63),t.push(128|o>>>6&63),t.push(128|63&o)}}return t}var f=n(1),u=f.sm3,c=f.hmac,s=f.hkdf,l=n(7),p=l.pbkdf2;r.exports=function(r,t){if(r="string"==typeof r?a(r):Array.prototype.slice.call(r),t){var n=t.mode||"hmac";if("hmac"===n){var e=t.key;if(!e)throw new Error("invalid key");return e="string"==typeof e?i(e):Array.prototype.slice.call(e),o(c(r,e))}if("hkdf"===n){var f=t.ikm,l=t.salt,h=t.info,v=t.len;return f="string"==typeof f?i(f):Array.prototype.slice.call(f),l="string"==typeof l?i(l):Array.prototype.slice.call(l),h="string"==typeof h?i(h):Array.prototype.slice.call(h),o(s(f,l,h,v))}if("pbkdf2"===n){var y=t.password,d=t.salt,g=t.c,A=t.dkLen;return y="string"==typeof y?i(y):Array.prototype.slice.call(y),d="string"==typeof d?i(d):Array.prototype.slice.call(d),o(p(y,d,g,A))}throw new Error("invalid mode")}return o(u(r))}},function(r,t,n){"use strict";function e(r){var t=[4];return t[0]=r>>24&255,t[1]=r>>16&255,t[2]=r>>8&255,t[3]=255&r,t}function o(r,t){for(var n=[],e=r.length-1;e>=0;e--)n[e]=255&(r[e]^t[e]);return n}function i(r,t,n){var o=e(n);return s(t.concat(o),r)}function a(r,t){return s(t,r)}function f(r,t,n,e){var f=[],u=i(r,t,e),c=u;f=u;for(var s=0;s<n-1;s++){var l=a(r,f);f=l,c=o(c,l)}return c}function u(r,t,n,e){if(e<32){return f(r,t,n,1).slice(0,e)}for(var o=e/32,i=e%32,a=[],u=1;u<o+1;u++){var c=f(r,t,n,u);a=a.concat(c)}var s=f(r,t,n,o+1),l=s.slice(0,i);return a=a.concat(l)}var c=n(1),s=c.hmac;r.exports={pbkdf2:u}}])});